version: 1.0.{build}
image: Visual Studio 2017
clone_depth: 1
init:
  - git config --global core.autocrlf true
  - cd LearnWithMentor
  
before_build:
  - cmd: dotnet restore --verbosity m

build_script:
  - cmd: dotnet publish -c Release

artifacts:
 - path: '\LearnWithMentor\bin\Release\netcoreapp2.1\publish'
   name: ServerDeployPackage
   type: WebDeployPackage

deploy:
  - provider: Environment
    name: production
    on:
      branch: master 